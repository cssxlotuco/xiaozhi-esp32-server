# xiaozhi-esp32-server â€” Project Summary

Summary of repository and quick-start notes for Copilot (no secrets):

Repository root files and purpose:
- README.md / README_en.md: Detailed project documentation and setup instructions (English and Chinese).
- docker-setup.sh: Automated script to prepare and run Docker containers for the server and web components.
- Dockerfile-server, Dockerfile-server-base, Dockerfile-web: Docker build recipes for server and web images.
- .dockerignore, .gitignore, LICENSE: repository housekeeping.
- docs/: project documentation folder (contains additional docs).
- main/: server source code and service implementation.

Key server behavior and endpoints (from repo structure and README):
- HTTP web UI served by web container (Dockerfile-web).
- Server container provides API endpoints and OTA endpoint used by ESP32 devices. Common OTA path is /xiaozhi/ota/ (confirm in code).
- MQTT broker integration: repo uses MQTT for device messaging; docker configuration / env files control host, port, credentials.

Recommended environment variables for .env.sample (names only, do NOT include secrets):
- DOMAIN or SERVER_HOST (e.g., binai.ddns.net)
- HTTP_PORT, HTTPS_PORT
- MQTT_HOST, MQTT_PORT
- MQTT_USER, MQTT_PASSWORD
- TLS_CERT, TLS_KEY (paths to cert files if using TLS)
- OTA_ENDPOINT (e.g., /xiaozhi/ota)
- DB_HOST, DB_PORT, DB_USER, DB_PASSWORD (if applicable)
- LOG_LEVEL

Quick start (high-level):
1. Review README_en.md for platform-specific setup.
2. Create .env from the above variables and set DOMAIN=binai.ddns.net.
3. Run bash docker-setup.sh to build images and run containers (or run docker-compose up -d if preferred).
4. Open https://binai.ddns.net/ to verify web UI; check docker logs for the server and MQTT connectivity.

Next recommended actions for Copilot/GPT orchestrator:
- Create a .env.sample file listing all variables above.
- Inspect docker-setup.sh to extract exact build/run commands and any required pre-steps (I will parse it next).
- Search the main/ directory to find the OTA handler and API endpoints to confirm paths and auth requirements.
- Create scripts to change domain to binai.ddns.net and rebuild/tag images (myserver:v1, v2).

Notes:
- Do NOT store secrets in repository. Use .env.local or Docker secrets.
- This summary is intentionally high-level; follow-up steps will parse README.md and docker-setup.sh to extract exact commands and values.

Generated by GitHub Copilot via ChatGPT orchestrator. Date: 2025-11-11